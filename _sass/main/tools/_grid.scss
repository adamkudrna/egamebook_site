@function grid-column-spacing($offset, $context) {
    @if ($offset % 1 != 0) {
        @error "Grid spacing can only be adjusted by whole columns, #{$offset} given.";
    }

    @else if ($context % 1 != 0 or $context <= 0) {
        @error "Grid columns context is expected to be a whole positive number, #{$context} given.";
    }

    @else {
        @return calc(#{$offset} * (#{spacing(1)} + (100% - #{$context - 1} * #{spacing(1)}) / #{$context}));
    }
}

// IE friendly grid (with rows specified).
// Grid gap cannot be translated by Autoprefixer when not using grid template areas (like in this case).
// https://github.com/postcss/autoprefixer#grid-autoplacement-support-in-ie
@mixin grid-template() {
    display: grid;

    // Handle this prefix manually since jekyll-assets removes braces from IE repeat syntax ðŸ™ˆ.
    // autoprefixer: off
    -ms-grid-columns: 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr 1fr;
    grid-template-columns: repeat($grid-columns, 1fr);
    // autoprefixer: on

    grid-template-rows: auto auto;
    grid-column-gap: $grid-gap;
}
